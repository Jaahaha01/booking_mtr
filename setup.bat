@echo off
chcp 65001 >nul
echo üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°...

REM ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Node.js
node --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Node.js ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Node.js ‡∏Å‡πà‡∏≠‡∏ô
    pause
    exit /b 1
)

echo ‚úÖ Node.js ‡∏û‡∏ö‡πÅ‡∏•‡πâ‡∏ß

REM ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö npm
npm --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö npm ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á npm ‡∏Å‡πà‡∏≠‡∏ô
    pause
    exit /b 1
)

echo ‚úÖ npm ‡∏û‡∏ö‡πÅ‡∏•‡πâ‡∏ß

REM ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö MySQL
mysql --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö MySQL ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL ‡∏Å‡πà‡∏≠‡∏ô
    pause
    exit /b 1
)

echo ‚úÖ MySQL ‡∏û‡∏ö‡πÅ‡∏•‡πâ‡∏ß

REM ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies
echo üì¶ ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies...
npm install

REM ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env.local ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ
if not exist .env.local (
    echo üìù ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env.local...
    copy env.example .env.local
    echo ‚ö†Ô∏è  ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå .env.local ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
)

echo.
echo üîç ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
set /p db_host="MySQL Host (default: localhost): "
if "%db_host%"=="" set db_host=localhost

set /p db_user="MySQL User (default: root): "
if "%db_user%"=="" set db_user=root

set /p db_password="MySQL Password: "

set /p db_name="Database Name (default: booking_db): "
if "%db_name%"=="" set db_name=booking_db

echo.
echo üóÑÔ∏è  ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á...
mysql -h "%db_host%" -u "%db_user%" -p"%db_password%" -e "CREATE DATABASE IF NOT EXISTS %db_name%;"
mysql -h "%db_host%" -u "%db_user%" -p"%db_password%" "%db_name%" < database.sql

echo ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢

echo.
echo üéâ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!
echo.
echo üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö:
echo    ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö: admin / admin123
echo    ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ: user1 / user123 ‡∏´‡∏£‡∏∑‡∏≠ user2 / user123
echo.
echo üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:
echo    npm run dev
echo.
echo üåê ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà: http://localhost:3000
echo.
echo üìö ‡∏î‡∏π‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà: README.md
echo.
pause
